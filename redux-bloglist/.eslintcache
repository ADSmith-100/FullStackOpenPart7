[{"/home/d/projects/FSO-Part7/redux-bloglist/src/index.js":"1","/home/d/projects/FSO-Part7/redux-bloglist/src/reducers/blogReducer.js":"2","/home/d/projects/FSO-Part7/redux-bloglist/src/App.js":"3","/home/d/projects/FSO-Part7/redux-bloglist/src/components/NewBlog.js":"4","/home/d/projects/FSO-Part7/redux-bloglist/src/components/Blogs.js":"5","/home/d/projects/FSO-Part7/redux-bloglist/src/store.js":"6","/home/d/projects/FSO-Part7/redux-bloglist/src/reducers/notificationReducer.js":"7","/home/d/projects/FSO-Part7/redux-bloglist/src/components/Notification.js":"8","/home/d/projects/FSO-Part7/redux-bloglist/src/services/blogs.js":"9","/home/d/projects/FSO-Part7/redux-bloglist/src/components/LoginForm.js":"10","/home/d/projects/FSO-Part7/redux-bloglist/src/services/login.js":"11","/home/d/projects/FSO-Part7/redux-bloglist/src/reducers/userReducer.js":"12","/home/d/projects/FSO-Part7/redux-bloglist/src/components/Menu.js":"13","/home/d/projects/FSO-Part7/redux-bloglist/src/reducers/usersReducer.js":"14","/home/d/projects/FSO-Part7/redux-bloglist/src/services/users.js":"15","/home/d/projects/FSO-Part7/redux-bloglist/src/components/Users.js":"16","/home/d/projects/FSO-Part7/redux-bloglist/src/components/UserBlogs.js":"17","/home/d/projects/FSO-Part7/redux-bloglist/src/components/BlogView.js":"18"},{"size":353,"mtime":1610745505296,"results":"19","hashOfConfig":"20"},{"size":703,"mtime":1610643216976,"results":"21","hashOfConfig":"20"},{"size":2118,"mtime":1610920442270,"results":"22","hashOfConfig":"20"},{"size":1784,"mtime":1610649727365,"results":"23","hashOfConfig":"20"},{"size":5485,"mtime":1610918117235,"results":"24","hashOfConfig":"20"},{"size":632,"mtime":1610660745984,"results":"25","hashOfConfig":"20"},{"size":826,"mtime":1610491801138,"results":"26","hashOfConfig":"20"},{"size":533,"mtime":1610491730205,"results":"27","hashOfConfig":"20"},{"size":1297,"mtime":1610643570548,"results":"28","hashOfConfig":"20"},{"size":2218,"mtime":1610750133592,"results":"29","hashOfConfig":"20"},{"size":323,"mtime":1610641499010,"results":"30","hashOfConfig":"20"},{"size":985,"mtime":1610755211639,"results":"31","hashOfConfig":"20"},{"size":954,"mtime":1610749931662,"results":"32","hashOfConfig":"20"},{"size":440,"mtime":1610660604670,"results":"33","hashOfConfig":"20"},{"size":266,"mtime":1610660777921,"results":"34","hashOfConfig":"20"},{"size":593,"mtime":1610768072876,"results":"35","hashOfConfig":"20"},{"size":963,"mtime":1610911819022,"results":"36","hashOfConfig":"20"},{"size":1780,"mtime":1611019900578,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"1bi3rqu",{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"40"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/home/d/projects/FSO-Part7/redux-bloglist/src/index.js",[],["76","77"],"/home/d/projects/FSO-Part7/redux-bloglist/src/reducers/blogReducer.js",[],"/home/d/projects/FSO-Part7/redux-bloglist/src/App.js",[],"/home/d/projects/FSO-Part7/redux-bloglist/src/components/NewBlog.js",[],"/home/d/projects/FSO-Part7/redux-bloglist/src/components/Blogs.js",["78","79"],"import React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { initializeBlogs } from \"../reducers/blogReducer\";\nimport blogService from \"../services/blogs\";\nimport { Link } from \"react-router-dom\";\n\nimport { setNotification } from \"../reducers/notificationReducer\";\n// import { loggedUser } from \"../reducers/userReducer\";\n\nexport const Blog = ({ blog, addLikes, removeBlog, user, setBlogs }) => {\n  // useEffect(() => {\n  //   dispatch(loggedUser());\n  // }, [dispatch]);\n\n  // const userActive = window.localStorage.getItem(\n  //   \"loggedBlogappUser\",\n  //   JSON.stringify(user) || null\n  // );\n\n  // console.log(userActive);\n\n  const userActive = useSelector((state) => state.user) || \"butt\";\n\n  // const loggedUserJSON = window.localStorage.getItem(\"loggedBlogappUser\");\n\n  // const userA = JSON.parse(loggedUserJSON);\n  // console.log(userA.name);\n\n  const [extraDataVisible, setExtraDataVisible] = useState(false);\n  const blogStyle = {\n    paddingTop: 10,\n    paddingLeft: 2,\n    border: \"solid\",\n    borderWidth: 1,\n    marginBottom: 5,\n  };\n\n  const handleView = (e) => {\n    e.preventDefault();\n    setExtraDataVisible(true);\n  };\n\n  const handleHideData = (e) => {\n    e.preventDefault(e);\n    setExtraDataVisible(false);\n    blogService.getAll().then((blogs) => {\n      //make a copy of blogs array to avoid mutating issues\n      let blogsByLikes = [...blogs];\n      blogsByLikes.sort(\n        (a, b) => (a.likes < b.likes ? 1 : b.likes < a.likes ? -1 : 0)\n        //could also use return a.likes.localeCompare(b.likes)I think\n      );\n\n      console.log(blogsByLikes);\n      // setBlogs(blogsByLikes);\n    });\n  };\n\n  const handleAddLike = (e) => {\n    addLikes({\n      likes: blog.likes + 1,\n    });\n  };\n\n  const handleRemoveBlog = (id, name) => {\n    removeBlog(id, name);\n  };\n\n  return (\n    <div className=\"blog\">\n      {extraDataVisible === false ? (\n        <div style={blogStyle}>\n          {blog.title} {blog.author}{\" \"}\n          <button id=\"view\" onClick={handleView}>\n            view\n          </button>\n        </div>\n      ) : (\n        <div style={blogStyle}>\n          <p>\n            {blog.title}{\" \"}\n            <button id=\"hide\" onClick={handleHideData}>\n              hide\n            </button>\n          </p>\n          <p>{blog.author}</p>\n          <p>{blog.url}</p>\n          {blog.user.name === undefined ? (\n            <p>waiting...</p>\n          ) : (\n            <p>user: {blog.user.name}</p>\n          )}\n\n          <p>\n            likes: {blog.likes}{\" \"}\n            <button id=\"like\" onClick={() => handleAddLike(blog.id)}>\n              like\n            </button>{\" \"}\n          </p>\n\n          {blog.user.name === userActive.name ? (\n            <button onClick={() => handleRemoveBlog(blog.id, blog.title)}>\n              remove\n            </button>\n          ) : (\n            <></>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst Blogs = () => {\n  const dispatch = useDispatch();\n  const blogs = useSelector((state) => state.blogs);\n\n  const blogsByLikes = [...blogs];\n  blogsByLikes.sort(\n    (a, b) => (a.likes < b.likes ? 1 : b.likes < a.likes ? -1 : 0)\n    //could also use return a.likes.localeCompare(b.likes)I think\n  );\n\n  const removeBlog = (id, name) => {\n    if (window.confirm(`Are you sure you want to delete ${name}?`)) {\n      blogService\n\n        .remove(id)\n        .then(() => {\n          const newBlogs = blogs.filter((b) => b.id !== id);\n          dispatch(initializeBlogs(newBlogs));\n          dispatch(setNotification(`you deleted '${name}'`, 10, \"success\"));\n        })\n        .catch((error) => {\n          console.log(error);\n          dispatch(setNotification(\"something went wrong\", 10, \"error\"));\n          // notifyWith(`'${name}' was already removed from server`, error);\n          // setErrorMessage(`'${name}' was already removed from server`);\n          // setTimeout(() => {\n          //   setErrorMessage(null);\n          // }, 5000);\n          const updateBlogs = blogs.filter((p) => p.id !== id);\n          dispatch(initializeBlogs(updateBlogs));\n        });\n    } else {\n      alert(\"operation cancelled\");\n    }\n  };\n\n  const addLikesTo = (id) => {\n    const blog = blogs.find((b) => b.id === id);\n    const changedBlog = {\n      ...blog,\n      likes: blog.likes + 1,\n    };\n\n    blogService.update(id, changedBlog).then((returnedBlog) => {\n      // let jsonBlog = JSON.parse(returnedBlog);\n      // nope server responds with object this throws error\n      //returnedBlog from server was not in a format that the front end totally could use.  The User object was missing - only had id.\n      let newBlogs = blogs.map((blog) => (blog.id !== id ? blog : changedBlog));\n      dispatch(initializeBlogs(newBlogs));\n      dispatch(setNotification(`you liked '${blog.title}'`, 10, \"success\"));\n    });\n  };\n\n  return (\n    <>\n      <div>\n        <h2>Blogs</h2>\n\n        {blogsByLikes.map((b) => (\n          <p key={b.id}>\n            <Link to={`/blogs/${b.id}`}>\n              {b.title}\n              {b.author}\n            </Link>\n          </p>\n        ))}\n      </div>\n      {/* <h2>Blogs</h2>\n        <ul>\n          {blogsByLikes.map((blog) => (\n            <Blog\n              key={blog.id}\n              blog={blog}\n              addLikes={() => addLikesTo(blog.id)}\n              removeBlog={() => removeBlog(blog.id, blog.title)}\n            />\n          ))}\n        </ul>\n      </div> */}\n    </>\n  );\n};\n\nexport default Blogs;\n","/home/d/projects/FSO-Part7/redux-bloglist/src/store.js",[],"/home/d/projects/FSO-Part7/redux-bloglist/src/reducers/notificationReducer.js",[],"/home/d/projects/FSO-Part7/redux-bloglist/src/components/Notification.js",[],"/home/d/projects/FSO-Part7/redux-bloglist/src/services/blogs.js",[],"/home/d/projects/FSO-Part7/redux-bloglist/src/components/LoginForm.js",[],"/home/d/projects/FSO-Part7/redux-bloglist/src/services/login.js",[],"/home/d/projects/FSO-Part7/redux-bloglist/src/reducers/userReducer.js",[],"/home/d/projects/FSO-Part7/redux-bloglist/src/components/Menu.js",[],"/home/d/projects/FSO-Part7/redux-bloglist/src/reducers/usersReducer.js",[],"/home/d/projects/FSO-Part7/redux-bloglist/src/services/users.js",[],"/home/d/projects/FSO-Part7/redux-bloglist/src/components/Users.js",[],"/home/d/projects/FSO-Part7/redux-bloglist/src/components/UserBlogs.js",[],"/home/d/projects/FSO-Part7/redux-bloglist/src/components/BlogView.js",["80"],{"ruleId":"81","replacedBy":"82"},{"ruleId":"83","replacedBy":"84"},{"ruleId":"85","severity":1,"message":"86","line":124,"column":9,"nodeType":"87","messageId":"88","endLine":124,"endColumn":19},{"ruleId":"85","severity":1,"message":"89","line":150,"column":9,"nodeType":"87","messageId":"88","endLine":150,"endColumn":19},{"ruleId":"85","severity":1,"message":"90","line":17,"column":9,"nodeType":"87","messageId":"88","endLine":17,"endColumn":22},"no-native-reassign",["91"],"no-negated-in-lhs",["92"],"no-unused-vars","'removeBlog' is assigned a value but never used.","Identifier","unusedVar","'addLikesTo' is assigned a value but never used.","'handleAddLike' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]